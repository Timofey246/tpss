local r = game:GetService('TeleportService') local j local m = false local function g() local i = {} for _,i in pairs(game.Players:GetChildren()) do table.insert(i, i) end table.remove(i, math.random(1,#i)) if #i>1 then r:TeleportAsync(game.PlaceId, i) end end local function s(o) o:SetAttribute("\108\111\97\100\101\100", false) end local function f() local i=0 local a = tick() game.Players.PlayerAdded:Connect(function(o) i+=1 local k = (tick()-a)/i game:GetService('ReplicatedStorage').evnts.ping:FireAllClients(string.format("%.2f", k).."\47\115\101\99\32\112\101\114\32\118\105\115\105\116") end) local h = #game:GetService('Players'):GetChildren() local n = 0 local k = 0 while true do if #game:GetService('Players'):GetChildren() >= h then local e = true if not m then for _,v in pairs(game:GetService('Players'):GetChildren()) do if v:GetAttribute("\108\111\97\100\101\100")==false then e = false break end end end if e then if not m then task.wait(1) end g() --[[local newT = tick() if lastT~=0 then local newCD = newT-lastT if lastCD~=0 then lastCD = (lastCD+newCD)/2 else lastCD = newCD end end lastT = newT game:GetService('ReplicatedStorage').evnts.ping:FireAllClients(string.format("%.2f", lastCD))]] while #game.Players:GetChildren()>=h do wait() end end end task.wait() end end game.Players.PlayerAdded:Connect(s) r.TeleportInitFailed:Connect(g) local sg = game:GetService('ReplicatedStorage'):FindFirstChild("\101\118\110\116\115") or game:GetService('ReplicatedStorage'):WaitForChild("\101\118\110\116\115") sg.ping.OnServerEvent:Connect(function(o) o:SetAttribute("\108\111\97\100\101\100", true) end) sg.st.OnServerEvent:Connect(function(o, r) m = r j = o game:GetService('Players').CharacterAutoLoads = false f() end)
